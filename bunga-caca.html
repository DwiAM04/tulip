<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taman Tulip Malam üå∑</title>

<style>
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background:radial-gradient(circle at bottom,#1a1a2e,#0a0a14 70%);
    font-family:'Poppins',sans-serif;
    color:#f8c8dc;
}

/* ‚≠ê Stars */
.stars{
    position:fixed;
    width:100%;
    height:100%;
    z-index:0;
}
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    opacity:0.8;
    animation:moveStar linear infinite;
}
@keyframes moveStar{
    from{transform:translateY(0);}
    to{transform:translateY(100vh);}
}

/* üå∑ Garden Layers */
.garden{
    position:absolute;
    bottom:0;
    width:100%;
    height:70%;
    display:flex;
    justify-content:center;
    align-items:flex-end;
    z-index:2;
    pointer-events:none;
}

.layer{
    position:absolute;
    bottom:0;
    display:flex;
    gap:40px;
}

/* Depth effect */
.back{ transform:scale(0.7); opacity:0.5; }
.middle{ transform:scale(0.9); opacity:0.8; }
.front{ transform:scale(1); }

/* Tulip */
.tulip{
    position:relative;
    width:100px;
    height:300px;
    transform-origin:bottom center;
    animation:sway 4s ease-in-out infinite alternate;
    transform-style:preserve-3d;
    pointer-events:auto;
    cursor:pointer;
}

@keyframes sway{
    from{ transform:rotate(-3deg); }
    to{ transform:rotate(3deg); }
}

/* Stem */
.stem{
    position:absolute;
    bottom:0;
    left:50%;
    width:8px;
    height:0;
    background:linear-gradient(#1f5f3a,#2e8b57);
    transform:translateX(-50%);
    border-radius:20px;
    transition:height 1.5s ease;
}

/* Leaves */
.leaf{
    position:absolute;
    width:60px;
    height:25px;
    background:radial-gradient(circle at 30% 30%,#3cb371,#145a32);
    border-radius:80px 0;
    opacity:0;
    transform:scale(0);
    transition:1s ease;
}
.leaf.left{ bottom:80px; left:5%; }
.leaf.right{ bottom:120px; right:5%; transform:rotateY(180deg) scale(0); }

/* Bud */
.bud{
    position:absolute;
    bottom:170px;
    left:50%;
    width:45px;
    height:80px;
    background:radial-gradient(circle at 50% 20%,#ff7eb9,#b03060);
    border-radius:50% 50% 40% 40%;
    transform:translateX(-50%);
    transition:1s ease;
}

/* Petals */
.petal{
    position:absolute;
    width:65px;
    height:100px;
    background:radial-gradient(circle at 50% 20%,#ff9acb,#8b1c62);
    border-radius:60% 60% 40% 40%;
    top:80px;
    left:18px;
    transform-origin:bottom center;
    transform:rotateY(var(--y)) rotateX(70deg) scaleY(0);
    opacity:0;
    transition:transform 1s ease, opacity 1s ease;
}

/* Bloom */
.bloom .stem{ height:200px; }
.bloom .leaf{ opacity:1; transform:scale(1); }
.bloom .bud{ opacity:0; transform:translateX(-50%) scale(0); }
.bloom .petal{
    transform:rotateY(var(--y)) rotateX(0deg) scaleY(1);
    opacity:1;
}

/* Caption */
.caption{
    position:absolute;
    top:15%;
    width:100%;
    text-align:center;
    font-size:1.2rem;
    z-index:3;
    min-height:40px;
}

/* Controls */
.controls{
    position:absolute;
    top:5%;
    width:100%;
    text-align:center;
    z-index:3;
}
button{
    padding:8px 18px;
    border:none;
    border-radius:20px;
    background:#b03060;
    color:white;
    cursor:pointer;
}
button:hover{ background:#ff69b4; }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="controls">
    <button onclick="toggleMusic()">Play / Pause Music üéµ</button>
</div>

<div class="caption" id="caption">Klik salah satu tulip üå∑</div>

<div class="garden">
    <div class="layer back" id="back"></div>
    <div class="layer middle" id="middle"></div>
    <div class="layer front" id="front"></div>
</div>

<audio id="music" loop>
<source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
</audio>

<script>
/* ‚≠ê Stars */
const stars=document.getElementById("stars");
for(let i=0;i<150;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"vw";
    s.style.top=Math.random()*100+"vh";
    s.style.animationDuration=(15+Math.random()*20)+"s";
    stars.appendChild(s);
}

/* üå∑ Generate Tulips */
function createTulip(){
    const t=document.createElement("div");
    t.className="tulip";
    t.innerHTML=`
        <div class="stem"></div>
        <div class="leaf left"></div>
        <div class="leaf right"></div>
        <div class="bud"></div>
        <div class="petal" style="--y:-30deg"></div>
        <div class="petal" style="--y:0deg"></div>
        <div class="petal" style="--y:30deg"></div>
    `;
    t.style.animationDuration=(4+Math.random()*3)+"s";
    return t;
}

for(let i=0;i<4;i++) back.appendChild(createTulip());
for(let i=0;i<5;i++) middle.appendChild(createTulip());
for(let i=0;i<6;i++) front.appendChild(createTulip());

/* üå¨Ô∏è Random Wind Effect */
setInterval(()=>{
    const strength=(Math.random()*6)-3; // -3 to 3 deg
    document.querySelectorAll(".tulip").forEach(t=>{
        t.style.transform=`rotate(${strength}deg)`;
    });
},4000);

/* üå∏ Bloom */
let bloomed=false;
document.querySelectorAll(".tulip").forEach(t=>{
    t.addEventListener("click",()=>{
        if(bloomed) return;
        bloomed=true;
        document.querySelectorAll(".tulip").forEach((el,i)=>{
            setTimeout(()=>el.classList.add("bloom"),i*150);
        });
        setTimeout(typeText,2000);
    });
});

/* üíñ Typing Text */
const text="Seperti taman tulip ini... cintaku tumbuh pelan, dalam, dan hanya untuk kamu üå∑‚ú®";
let i=0;
function typeText(){
    const caption=document.getElementById("caption");
    if(i<text.length){
        caption.innerHTML+=text.charAt(i);
        i++;
        setTimeout(typeText,50);
    }
}

/* üéµ Music */
function toggleMusic(){
    const m=document.getElementById("music");
    if(m.paused){m.play();}
    else{m.pause();}
}
</script>

</body>
</html>
